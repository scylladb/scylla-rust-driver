

<!DOCTYPE html>
<html class="no-js" lang="en" style="visibility: hidden;">
    
    

    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width initial-scale=1" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>
             Prepared statement | ScyllaDB Docs 
        </title>
        <meta name="description" content="ScyllaDB Driver for Rust." />
        <link rel="icon" href="../_static/img/favicon.ico" type="image/x-icon" />
        <link rel="icon" href="../_static/img/favicon-32x32.png" sizes="32x32" />
        <link rel="icon" href="../_static/img/favicon-228x228.png" sizes="192x192" />
        <link rel="apple-touch-icon" href="../_static/img/favicon-228x228.png" />
        <meta name="msapplication-TileImage" href="../_static/img/favicon-228x228.png" />

        
            
            
        

        
            
            <link rel="canonical" href="https://rust-driver.docs.scylladb.com/stable/statements/prepared.html"/>
        

        <link rel="author" href="mailto:info@scylladb.com" />

        
            
        <!-- increase expertrec loading priority-->
        <link rel="dns-prefetch" href="https://cse.expertrec.com">

        <!-- increase font loading priority -->
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link rel="preload" as="style"
              href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,400;0,500;0,700;1,400&display=swap" />

        <!-- async CSS -->
        <link rel="stylesheet" media="print" onload="this.onload=null;this.removeAttribute('media');"
              href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,400;0,500;0,700;1,400&display=swap" />

        <!-- no-JS fallback -->
        <noscript>
            <link rel="stylesheet"
                  href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,400;0,500;0,700;1,400&display=swap" />
        </noscript>

        
            <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/biel-search@latest/dist/biel-search/biel-search.css">
            <script type="module" src="https://cdn.jsdelivr.net/npm/biel-search@latest/dist/biel-search/biel-search.esm.js"></script>
        

        
            
                <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
            
        
            
                <link rel="stylesheet" type="text/css" href="../_static/css/main.css?v=0ebb4bd5" />
            
        
            
                <link rel="stylesheet" type="text/css" href="../_static/sphinx_collapse.css?v=226d88b4" />
            
        
            
                <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
            
        
    
        
        
            
        <script type="text/javascript" src="../_static/js/runtime.bundle.js"></script>
        <script type="text/javascript" src="../_static/js/main.bundle.js"></script>
        
            
                <script src="../_static/documentation_options.js?v=5929fcd5"></script>
            
        
            
                <script src="../_static/doctools.js?v=9bcbadda"></script>
            
        
            
                <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
            
        
            
                <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
            
        
            
                <script src="../_static/copybutton.js?v=f281be69"></script>
            
        
    
            
                <!-- Local meta tags -->
            
            
                <!-- Google Tag Manager docs -->
<script>
    (function (w, d, s, l, i) {
        w[l] = w[l] || [];
        w[l].push({
            "gtm.start": new Date().getTime(),
            event: "gtm.js"
        });
        var f = d.getElementsByTagName(s)[0],
            j = d.createElement(s),
            dl = l != "dataLayer" ? "&l=" + l : "";
        j.async = true;
        j.src = "https://www.googletagmanager.com/gtm.js?id=" + i + dl;
        f.parentNode.insertBefore(j, f);
    })(window, document, "script", "dataLayer", "GTM-54NWVS4");
</script>
<!-- End Google Tag Manager -->

<!-- Google Tag Manager global -->
<script>
    (function (w, d, s, l, i) {
        w[l] = w[l] || [];
        w[l].push({
            "gtm.start": new Date().getTime(),
            event: "gtm.js"
        });
        var f = d.getElementsByTagName(s)[0],
            j = d.createElement(s),
            dl = l != "dataLayer" ? "&l=" + l : "";
        j.async = true;
        j.src = "https://www.googletagmanager.com/gtm.js?id=" + i + dl;
        f.parentNode.insertBefore(j, f);
    })(window, document, "script", "dataLayer", "GTM-T8P2JP");
</script>
<!-- End Google Tag Manager -->

<!-- Expertrec -->
<script>
    var id = "e2077224-9ccf-11e9-a0c9-0242ac130002";
    var ci_search = document.createElement("script");
    ci_search.type = "text/javascript";
    ci_search.async = true;
    ci_search.src = "https://cse.expertrec.com/api/js/ci_common.js?id=" + id;
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(ci_search, s);
</script>
<!-- End Expertrec -->
            
        
    </head>

    <body class="brand-product">
        <section class="promo-banner  promo-banner--hide" style="display: none;">
    <div class="promo-banner-wrapper">
        <div class="promo-banner__content">
            
            <div class="promo-banner__title">ScyllaDB University Live | Free Virtual Training Event</div>
            <a class="promo-banner__button button button--reverse" href="#"
               target="_blank" rel="noopener noreferrer">Learn more</a>
        </div>
        <button class="promo-banner__close">
            <i class="icon-cancel"></i>
        </button>
    </div>
</section>
        <header class="header">
    <div class="header-logo">
        <a class="header-logo__img" href="https://scylladb.com/">
            <img src="../_static/img/scylladb-logo-horizontal.svg" alt="ScyllaDB Documentation Logo" />
        </a>
        <span class="header-logo__bar"></span>
        <a class="header-logo__text" href="https://docs.scylladb.com/">
            Documentation
        </a>
    </div>
    <div class="header-navigation">
        <ul class="dropdown menu scylla-dropdown scylla-dropdown--header" data-dropdown-menu>
            <li class="scylla-dropdown__item">
                <a href="#" class="scylla-dropdown__title">Deployments <i class="chevron icon-arrow-dropdown"></i></a>
                <ul class="menu scylla-dropdown__content">
                    <li>
                        <a href="https://docs.scylladb.com/scylla-cloud/">
                            <i class="icon-docs-cloud"></i>Cloud</a>
                    </li>
                    <li>
                        <a href="https://docs.scylladb.com/manual/">
                            <i class="icon-server"></i>Server</a>
                    </li>
                </ul>
            </li>
            <li class="scylla-dropdown__item">
                <a href="#" class="scylla-dropdown__title">Tools <i class="chevron icon-arrow-dropdown"></i></a>
                <ul class="menu scylla-dropdown__content">
                    <li>
                        <a href="https://manager.docs.scylladb.com/">
                            <i class="icon-docs-manager"></i>ScyllaDB Manager</a>
                    </li>
                    <li>
                        <a href="https://monitoring.docs.scylladb.com/">
                            <i class="icon-docs-monitoring"></i>ScyllaDB
                            Monitoring Stack</a>
                    </li>
                    <li>
                        <a href="https://operator.docs.scylladb.com/">
                            <i class="icon-docs-operator"></i>ScyllaDB Operator
                        </a>
                    </li>
                </ul>
            </li>
            <li class="scylla-dropdown__item">
                <a href="#" class="scylla-dropdown__title">Drivers <i class="chevron icon-arrow-dropdown"></i></a>
                <ul class="menu scylla-dropdown__content">
                    <li>
                        <a href="https://docs.scylladb.com/stable/drivers/cql-drivers">
                            <i class="icon-docs-nsql-guides"></i>CQL Drivers
                        </a>
                    </li>
                    <li>
                        <a href="https://docs.scylladb.com/stable/drivers/dynamo-drivers">
                            <i class="icon-docs-alternator"></i>DynamoDB Drivers
                        </a>

                        <li>
                            <a href="https://docs.scylladb.com/stable/versioning/driver-support">
                                <i class="icon-docs-blog"></i>Supported Driver Versions
                            </a>
                        </li>
                    </li>
                </ul>
            </li>
            <li class="scylla-dropdown__item">
                <a href="#" class="scylla-dropdown__title">Resources
                    <i class="chevron icon-arrow-dropdown"></i></a>
                <ul class="menu scylla-dropdown__content">
                    <li>
                        <a href="https://university.scylladb.com">
                            <i class="icon-university"></i>
                            ScyllaDB University
                        </a>
                    </li>
                    <li>
                        <a href="https://forum.scylladb.com">
                            <i class="icon-docs-community"></i>
                            Community Forum
                        </a>
                    </li>
                    <li>
                        <a href="https://docs.scylladb.com/stable/get-started/develop-with-scylladb/tutorials-example-projects.html">
                            <i class="icon-docs-training"></i>
                            Tutorials
                        </a>
                    </li>
                </ul>
            </li>
        </ul>
        <div class="header-button">
            <a href="https://docs.scylladb.com/manual/stable/getting-started/installation-common/scylla-web-installer.html" class="button"><i class="icon-download me-2"></i> Install</a>
        </div>
    </div>
    <div class="header-search-box">
        <i class="dark-theme-toggler icon-theme"></i>
        <div class="search-box">
            <ci-search></ci-search>
        </div>
        
            <biel-button class="header-ask-ai" project="ddfdo8m94k"
                         header-title="ScyllaDB chatbot (beta)"
                         button-position="default"
                         modal-position="bottom-right"
                         button-style="dark">
                Ask AI
            </biel-button>
        
    </div>
    <div class="side-nav-toggle">
    <i class="dark-theme-toggler icon-theme"></i>
    <div class="side-nav-toggle__button" data-toggle="side-nav">
        <i class="icon-menu"></i>
    </div>
</div>
</header>
        <div class="title"></div>
        <section
            class="layout  layout--sidebar layout--has-secondary-sidebar ">
            <div class="content large-order-2">
                
                    <div class="pre-content">
                        <div class="breadcrumbs">
    <span class="bread__item">
        <a href="https://docs.scylladb.com"
           class="bread__highlight">
            <i class="icon-home"></i> ScyllaDB Docs
        </a>
    </span>
    <span class="bread__item">
        <a href="https://rust-driver.docs.scylladb.com"
           class="bread__highlight">
            ScyllaDB Rust Driver
        </a>
    </span>
    
        <span class="bread__item">
            <a href="statements.html" class="bread__highlight">
                Executing CQL statements - best practices
            </a>
        </span>
    
    <span class="bread__item bread__item--last">Prepared statement</span>
</div>
                    </div>
                
                
                    <div class="sidebar-right-layout">
                        <div class="body-container">
                

                <div class="content-body">
                    
                        
                    

                    <section id="prepared-statement">
<h1>Prepared statement<a class="headerlink" href="#prepared-statement" title="Link to this heading">¶</a></h1>
<p>Prepared statements provide much better performance than unprepared statements,
but they need to be prepared before use.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p><strong>Prepare a statement once</strong> and store it (e.g., in a variable, static, or struct field), then <strong>execute it multiple times</strong> with different values.
Preparing a statement is a costly operation involving communication with database nodes and caching.
Repeatedly calling <code class="docutils literal notranslate"><span class="pre">prepare()</span></code> for the same statement before each execution wastes resources and significantly degrades performance.</p>
</div>
<p>Benefits that prepared statements have to offer:</p>
<ul class="simple">
<li><p>Type safety - thanks to metadata provided by the server, the driver can verify bound values’ types before serialization. This way, we can be always sure that the Rust type provided by the user is compatible (and if not, the error is returned) with the destined native type. The same applies for deserialization.</p></li>
<li><p>Performance - when executing an unprepared statement with non-empty values list, the driver
prepares the statement before execution. The reason for this is to provide type safety for unprepared statements. However, this implies 2 round trips per unprepared statement execution. On the other hand, the cost of prepared statement’s execution is only 1 round trip.</p></li>
<li><p>Improved load-balancing - using the statement metadata, the driver can compute a set of destined replicas for current statement execution. These replicas will be preferred when choosing the node (and shard) to send the request to. For more insight on this, see <a class="reference internal" href="#performance">performance section</a>.</p></li>
</ul>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="k">use</span><span class="w"> </span><span class="n">scylla</span><span class="p">::</span><span class="n">statement</span><span class="p">::</span><span class="n">prepared</span><span class="p">::</span><span class="n">PreparedStatement</span><span class="p">;</span>

<span class="c1">// Prepare the statement ONCE for later execution</span>
<span class="kd">let</span><span class="w"> </span><span class="n">prepared</span><span class="p">:</span><span class="w"> </span><span class="nc">PreparedStatement</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">session</span>
<span class="w">    </span><span class="p">.</span><span class="n">prepare</span><span class="p">(</span><span class="s">&quot;INSERT INTO ks.tab (a) VALUES(?)&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="k">await</span><span class="o">?</span><span class="p">;</span>

<span class="c1">// Execute the prepared statement MULTIPLE TIMES with different values</span>
<span class="kd">let</span><span class="w"> </span><span class="n">to_insert</span><span class="p">:</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">12345</span><span class="p">;</span>
<span class="n">session</span><span class="p">.</span><span class="n">execute_unpaged</span><span class="p">(</span><span class="o">&amp;</span><span class="n">prepared</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">to_insert</span><span class="p">,)).</span><span class="k">await</span><span class="o">?</span><span class="p">;</span>

<span class="kd">let</span><span class="w"> </span><span class="n">to_insert</span><span class="p">:</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">67890</span><span class="p">;</span>
<span class="n">session</span><span class="p">.</span><span class="n">execute_unpaged</span><span class="p">(</span><span class="o">&amp;</span><span class="n">prepared</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">to_insert</span><span class="p">,)).</span><span class="k">await</span><span class="o">?</span><span class="p">;</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>For token/shard aware load balancing to work properly, all partition key values
must be sent as bound values (see <a class="reference internal" href="#performance">performance section</a>)</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Don’t use <code class="docutils literal notranslate"><span class="pre">execute_unpaged</span></code> to receive large amounts of data.<br />
Unpaged requests might cause heavy load on the cluster.
In reality, its almost always wrong to use unpaged SELECTs.</p>
<p>In such cases use a <a class="reference internal" href="paged.html"><span class="std std-doc">paged query</span></a> instead.</p>
</div>
<section id="session-prepare">
<h2><code class="docutils literal notranslate"><span class="pre">Session::prepare</span></code><a class="headerlink" href="#session-prepare" title="Link to this heading">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">Session::prepare</span></code> takes statement text and prepares the statement on all nodes and shards.
If at least one succeeds returns success.</p>
</section>
<section id="session-execute-unpaged-single-page-iter">
<h2><code class="docutils literal notranslate"><span class="pre">Session::execute_[unpaged/single_page/iter]</span></code><a class="headerlink" href="#session-execute-unpaged-single-page-iter" title="Link to this heading">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">Session::execute_[unpaged/single_page/iter]</span></code> family of functions all take a prepared statement and bound values and execute the statement.
Passing values and the result is the same as in <a class="reference internal" href="unprepared.html"><span class="std std-doc">unprepared statement</span></a>.</p>
</section>
<section id="statement-options">
<h2>Statement options<a class="headerlink" href="#statement-options" title="Link to this heading">¶</a></h2>
<p>To specify custom options, set them on the <code class="docutils literal notranslate"><span class="pre">PreparedStatement</span></code> before execution.
For example to change the consistency:</p>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="k">use</span><span class="w"> </span><span class="n">scylla</span><span class="p">::</span><span class="n">statement</span><span class="p">::</span><span class="n">prepared</span><span class="p">::</span><span class="n">PreparedStatement</span><span class="p">;</span>
<span class="k">use</span><span class="w"> </span><span class="n">scylla</span><span class="p">::</span><span class="n">statement</span><span class="p">::</span><span class="n">Consistency</span><span class="p">;</span>

<span class="c1">// Prepare the statement for later execution</span>
<span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">prepared</span><span class="p">:</span><span class="w"> </span><span class="nc">PreparedStatement</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">session</span>
<span class="w">    </span><span class="p">.</span><span class="n">prepare</span><span class="p">(</span><span class="s">&quot;INSERT INTO ks.tab (a) VALUES(?)&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="k">await</span><span class="o">?</span><span class="p">;</span>

<span class="c1">// Set prepared statement consistency to One</span>
<span class="c1">// This is the consistency with which this statement will be executed</span>
<span class="n">prepared</span><span class="p">.</span><span class="n">set_consistency</span><span class="p">(</span><span class="n">Consistency</span><span class="p">::</span><span class="n">One</span><span class="p">);</span>

<span class="c1">// Execute the prepared statement with some values, just like an unprepared statement.</span>
<span class="kd">let</span><span class="w"> </span><span class="n">to_insert</span><span class="p">:</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">12345</span><span class="p">;</span>
<span class="n">session</span><span class="p">.</span><span class="n">execute_unpaged</span><span class="p">(</span><span class="o">&amp;</span><span class="n">prepared</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">to_insert</span><span class="p">,)).</span><span class="k">await</span><span class="o">?</span><span class="p">;</span>
</pre></div>
</div>
<p>See <a class="reference external" href="https://docs.rs/scylla/latest/scylla/statement/prepared_statement/struct.PreparedStatement.html">PreparedStatement API documentation</a>
for more options.</p>
<blockquote>
<div><p><em><strong>Note</strong></em>
Prepared statements can be created from <code class="docutils literal notranslate"><span class="pre">Statement</span></code> structs and will inherit from
the custom options that the <code class="docutils literal notranslate"><span class="pre">Statement</span></code> was created with.
This is especially useful when using <code class="docutils literal notranslate"><span class="pre">CachingSession::execute</span></code> for example.</p>
</div></blockquote>
</section>
<section id="performance">
<h2>Performance<a class="headerlink" href="#performance" title="Link to this heading">¶</a></h2>
<p>Prepared statement have good performance, much better than unprepared statements.
By default they use shard/token aware load balancing.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p><strong>Always</strong> pass partition key values as bound values.
Otherwise the driver can’t hash them to compute partition key
and they will be sent to the wrong node, which worsens performance.</p>
</div>
<p>Let’s say we have a table like this:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">TABLE</span><span class="w"> </span><span class="n">ks</span><span class="p">.</span><span class="n">prepare_table</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">a</span><span class="w"> </span><span class="nb">int</span><span class="p">,</span>
<span class="w">    </span><span class="n">b</span><span class="w"> </span><span class="nb">int</span><span class="p">,</span>
<span class="w">    </span><span class="k">c</span><span class="w"> </span><span class="nb">int</span><span class="p">,</span>
<span class="w">    </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="k">use</span><span class="w"> </span><span class="n">scylla</span><span class="p">::</span><span class="n">statement</span><span class="p">::</span><span class="n">prepared</span><span class="p">::</span><span class="n">PreparedStatement</span><span class="p">;</span>

<span class="c1">// WRONG - partition key value is passed in statement string</span>
<span class="c1">// Load balancing will compute the wrong partition key</span>
<span class="kd">let</span><span class="w"> </span><span class="n">wrong_prepared</span><span class="p">:</span><span class="w"> </span><span class="nc">PreparedStatement</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">session</span>
<span class="w">    </span><span class="p">.</span><span class="n">prepare</span><span class="p">(</span><span class="s">&quot;INSERT INTO ks.prepare_table (a, b, c) VALUES(12345, ?, 16)&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="k">await</span><span class="o">?</span><span class="p">;</span>

<span class="n">session</span><span class="p">.</span><span class="n">execute_unpaged</span><span class="p">(</span><span class="o">&amp;</span><span class="n">wrong_prepared</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="mi">54321</span><span class="p">,)).</span><span class="k">await</span><span class="o">?</span><span class="p">;</span>

<span class="c1">// GOOD - partition key values are sent as bound values</span>
<span class="c1">// Other values can be sent any way you like, it doesn&#39;t matter</span>
<span class="kd">let</span><span class="w"> </span><span class="n">good_prepared</span><span class="p">:</span><span class="w"> </span><span class="nc">PreparedStatement</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">session</span>
<span class="w">    </span><span class="p">.</span><span class="n">prepare</span><span class="p">(</span><span class="s">&quot;INSERT INTO ks.prepare_table (a, b, c) VALUES(?, ?, 16)&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="k">await</span><span class="o">?</span><span class="p">;</span>

<span class="n">session</span><span class="p">.</span><span class="n">execute_unpaged</span><span class="p">(</span><span class="o">&amp;</span><span class="n">good_prepared</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="mi">12345</span><span class="p">,</span><span class="w"> </span><span class="mi">54321</span><span class="p">)).</span><span class="k">await</span><span class="o">?</span><span class="p">;</span>
</pre></div>
</div>
</section>
</section>

                </div>
                
                    <div class="post-content">
                        
    <div class="feedback-container">
        <p class="feedback-container__title">Was this page helpful?</p>
        <span data-tooltip tabindex="1" title="Yes" data-position="top">
            <button class="feedback-container__button" id="feedback-positive">
                <i class="feedback-container__icon icon-docs-thumbs-up"></i>
            </button>
        </span>
        <span data-tooltip tabindex="1" title="No" data-position="top">
            <button class="feedback-container__button" id="feedback-negative">
                <i class="feedback-container__icon icon-docs-thumbs-down"></i>
            </button>
        </span>
        <div class="feedback-container__message" id="feedback-message"></div>
    </div>

    <script>
        function resetFeedbackButtonActive() {
            const feedbackButtons = document.getElementsByClassName('feedback-container__button');
            for (let i = 0; i < feedbackButtons.length; i++) {
                feedbackButtons[i].classList.remove('active');
            }
        }

        function showMessage(liked) {
            const feedbackMessage = document.getElementById('feedback-message');
            const themeGithubRepository = true;
            let message = 'Great! Thanks for your feedback.';
            if (themeGithubRepository && !liked) {
                message = "Thanks for your feedback! Please don't hesitate to <a href='https://github.com/scylladb/scylla-rust-driver/issues/new?title=docs:%20Issue on page Prepared statement&&body=I%20would%20like%20to%20report%20an%20issue%20on%20page%20https://rust-driver.docs.scylladb.com/v1.5.0/statements/prepared%0A%0A%23%23%23%20Problem%0A%0A%23%23%23%20%20Suggest%20a%20fix&labels=documentation'>create an issue</a> if you have any suggestions on how we can improve.";
            }
            feedbackMessage.innerHTML = message;
        }

        function sendGaEvent(liked) {
            const event_label = liked ? "positive" : "negative";
            const event = "feedback_" + event_label;
            window.dataLayer = window.dataLayer || [];
            window.dataLayer.push({
                'event': event,
            });
        }

        const positiveFeebackButton = document.getElementById('feedback-positive');
        const negativeFeedbackButton = document.getElementById('feedback-negative');

        positiveFeebackButton.addEventListener('click', function() {
            resetFeedbackButtonActive();
            sendGaEvent(true);
            showMessage(true);
            positiveFeebackButton.classList.add('active');
        });

        negativeFeedbackButton.addEventListener('click', function() {
            resetFeedbackButtonActive();
            sendGaEvent(false);
            showMessage(false);
            negativeFeedbackButton.classList.add('active');
        });
    </script>

                        <div class="content-navigation">
    <div class="navigation navigation--prev">
        
            <a class="navigation__link" href="result.html">
                <button class="navigation__button">
                    <i class="icon-chevron-left"></i>
                </button>
                <div class="navigation__title">
                    <span class="colored">PREVIOUS</span> <br />Query result
                </div>
            </a>
        
    </div>
    <div class="navigation navigation--next">
        
            <a class="navigation__link" href="batch.html">
                <div class="navigation__title">
                    <span class="colored">NEXT</span> <br />Batch statement
                </div>
                <button class="navigation__button">
                    <i class="icon-chevron-right"></i>
                </button>
            </a>
        
    </div>
</div>
                        <!-- Post content text -->
                    </div>
                

                
                    </div>
                    <div class="sidebar-right large-order-3">
                        <div class="secondary-side-nav custom-scroll-bar">
    
    <ul class="contribute">
        <li class="contribute__item">
            <a class="button button-sm" href="https://github.com/scylladb/scylla-rust-driver/issues/new?title=docs:%20Issue on page Prepared statement&&body=I%20would%20like%20to%20report%20an%20issue%20on%20page%20https://rust-driver.docs.scylladb.com/v1.5.0/statements/prepared%0A%0A%23%23%23%20Problem%0A%0A%23%23%23%20%20Suggest%20a%20fix&labels=documentation"
               target="_blank">
                <i class="icon-github" aria-hidden="true"></i>Create an issue
            </a>
        </li>
        
            <li class="contribute__item">
                <a class="button button-sm" href="https://github.com/scylladb/scylla-rust-driver/edit/main/docs/source/statements/prepared.md"
                   target="_blank">
                    <i class="icon-edit" aria-hidden="true"></i>Edit this page
                </a>
            </li>
        
    </ul>

    
        <div class="secondary-side-nav__content">
            <p class="topic-title">On this page</p>
            <ul>
<li><a class="reference internal" href="#">Prepared statement</a><ul>
<li><a class="reference internal" href="#session-prepare"><code class="docutils literal notranslate"><span class="pre">Session::prepare</span></code></a></li>
<li><a class="reference internal" href="#session-execute-unpaged-single-page-iter"><code class="docutils literal notranslate"><span class="pre">Session::execute_[unpaged/single_page/iter]</span></code></a></li>
<li><a class="reference internal" href="#statement-options">Statement options</a></li>
<li><a class="reference internal" href="#performance">Performance</a></li>
</ul>
</li>
</ul>

        </div>
    
</div>
                    </div>
                    </div>
                
            </div>
            <div class="sidebar-left  large-order-1">
                
                    
                        <div id="side-nav" class="side-nav custom-scroll-bar" data-closable data-toggler=".show">
    <button class="collapsible-button">
        <i class="icon-docs-menu-collapse"></i>
    </button>
    <div class="side-nav-content custom-scroll-bar">
        <div class="side-nav__title">
            <a href="https://rust-driver.docs.scylladb.com">ScyllaDB Rust Driver</a>
        </div>
        <div class="side-nav__search">
            <div class="search-box">
                <ci-search></ci-search>
            </div>
        </div>
        <div class="side-nav__versions"><ul class="dropdown menu scylla-dropdown scylla-dropdown--versions" data-dropdown-menu>
    <li class="scylla-dropdown__item">
        <a class="scylla-dropdown__title" href="#">
            
                v1.5.0
            
            <i class="chevron icon-docs-chevron-right"></i>
        </a>
        <ul class="menu scylla-dropdown__content">
            
                
                    <li>
                        <a href="../../main/statements/prepared.html">main</a>
                    </li>
                
            
            
                
                    <li>
                        <a href="prepared.html">
                            v1.5.0
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="../../v1.4.1/statements/prepared.html">
                            v1.4.1
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="../../v1.4.0/statements/prepared.html">
                            v1.4.0
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="../../v1.3.1/statements/prepared.html">
                            v1.3.1
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="../../v1.3.0/statements/prepared.html">
                            v1.3.0
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="../../v1.2.0/statements/prepared.html">
                            v1.2.0
                        </a>
                    </li>
                
            
        </ul>
    </li>
</ul></div>
        <div class="side-nav__content">
            <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">ScyllaDB Rust Driver</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../quickstart/quickstart.html">Quick Start</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label for="toctree-checkbox-1"><i class="icon-chevron-right"></i></label><div class="break"></div><ul>
<li class="toctree-l2"><a class="reference internal" href="../quickstart/create-project.html">Creating a project</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quickstart/example.html">Connecting and running a simple query</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quickstart/scylla-docker.html">Running ScyllaDB using Docker</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../connecting/connecting.html">Connecting to the cluster</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label for="toctree-checkbox-2"><i class="icon-chevron-right"></i></label><div class="break"></div><ul>
<li class="toctree-l2"><a class="reference internal" href="../connecting/compression.html">Compression</a></li>
<li class="toctree-l2"><a class="reference internal" href="../connecting/authentication.html">Authentication</a></li>
<li class="toctree-l2"><a class="reference internal" href="../connecting/tls.html">TLS</a></li>
</ul>
</li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="statements.html">Executing CQL statements - best practices</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label for="toctree-checkbox-3"><i class="icon-chevron-right"></i></label><div class="break"></div><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="unprepared.html">Unprepared statement</a></li>
<li class="toctree-l2"><a class="reference internal" href="values.html">Statement values</a></li>
<li class="toctree-l2"><a class="reference internal" href="result.html">Query result</a></li>
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">Prepared statement</a></li>
<li class="toctree-l2"><a class="reference internal" href="batch.html">Batch statement</a></li>
<li class="toctree-l2"><a class="reference internal" href="paged.html">Paged query</a></li>
<li class="toctree-l2"><a class="reference internal" href="usekeyspace.html">USE keyspace</a></li>
<li class="toctree-l2"><a class="reference internal" href="schema-agreement.html">Schema agreement</a></li>
<li class="toctree-l2"><a class="reference internal" href="lwt.html">Lightweight transaction (LWT) statement</a></li>
<li class="toctree-l2"><a class="reference internal" href="timeouts.html">Request timeouts</a></li>
<li class="toctree-l2"><a class="reference internal" href="timestamp-generators.html">Timestamp generators</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../execution-profiles/execution-profiles.html">Execution profiles</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label for="toctree-checkbox-4"><i class="icon-chevron-right"></i></label><div class="break"></div><ul>
<li class="toctree-l2"><a class="reference internal" href="../execution-profiles/create-and-use.html">Creating a profile and setting it</a></li>
<li class="toctree-l2"><a class="reference internal" href="../execution-profiles/maximal-example.html">All options supported by a profile</a></li>
<li class="toctree-l2"><a class="reference internal" href="../execution-profiles/priority.html">Priorities of execution settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../execution-profiles/remap.html">Remapping execution profile handles</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../data-types/data-types.html">Data Types</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label for="toctree-checkbox-5"><i class="icon-chevron-right"></i></label><div class="break"></div><ul>
<li class="toctree-l2"><a class="reference internal" href="../data-types/primitive.html">Bool, Tinyint, Smallint, Int, Bigint, Float, Double</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data-types/text.html">Ascii, Text, Varchar</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data-types/counter.html">Counter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data-types/blob.html">Blob</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data-types/inet.html">Inet</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data-types/uuid.html">Uuid</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data-types/timeuuid.html">Timeuuid</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data-types/date.html">Date</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data-types/time.html">Time</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data-types/timestamp.html">Timestamp</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data-types/duration.html">Duration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data-types/decimal.html">Decimal</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data-types/varint.html">Varint</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data-types/collections.html">List, Set, Map</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data-types/tuple.html">Tuple</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data-types/udt.html">User defined types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data-types/vector.html">Vector</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../load-balancing/load-balancing.html">Load balancing</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/><label for="toctree-checkbox-6"><i class="icon-chevron-right"></i></label><div class="break"></div><ul>
<li class="toctree-l2"><a class="reference internal" href="../load-balancing/default-policy.html">DefaultPolicy</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../retry-policy/retry-policy.html">Retry policy configuration</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/><label for="toctree-checkbox-7"><i class="icon-chevron-right"></i></label><div class="break"></div><ul>
<li class="toctree-l2"><a class="reference internal" href="../retry-policy/fallthrough.html">Fallthrough retry policy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../retry-policy/default.html">Default retry policy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../retry-policy/downgrading-consistency.html">Downgrading consistency retry policy</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../speculative-execution/speculative.html">Speculative execution</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/><label for="toctree-checkbox-8"><i class="icon-chevron-right"></i></label><div class="break"></div><ul>
<li class="toctree-l2"><a class="reference internal" href="../speculative-execution/simple.html">Simple speculative execution</a></li>
<li class="toctree-l2"><a class="reference internal" href="../speculative-execution/percentile.html">Percentile speculative execution</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../metrics/metrics.html">Driver metrics</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../migration-guides/migration-guides.html">Migration guides</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/><label for="toctree-checkbox-9"><i class="icon-chevron-right"></i></label><div class="break"></div><ul>
<li class="toctree-l2"><a class="reference internal" href="../migration-guides/0.11-serialization.html">Adjusting code to changes in serialization API introduced in 0.11</a></li>
<li class="toctree-l2"><a class="reference internal" href="../migration-guides/0.15-deserialization.html">Adjusting code to changes in deserialization API introduced in 0.15</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../logging/logging.html">Logging</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../tracing/tracing.html">Query tracing</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/><label for="toctree-checkbox-10"><i class="icon-chevron-right"></i></label><div class="break"></div><ul>
<li class="toctree-l2"><a class="reference internal" href="../tracing/basic.html">Tracing a simple/prepared/batch query</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tracing/paged.html">Tracing a paged query</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tracing/prepare.html">Tracing <code class="docutils literal notranslate"><span class="pre">Session::prepare</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../tracing/query-history.html">Query Execution History</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../schema/schema.html">Schema</a></li>
</ul>

        </div>
    </div>
</div>
                    
                
            </div>

        </section>

        <footer class="footer">
    <div class="footer-group">
        <div class="footer-top">
            <a class="footer-logo" href="https://www.scylladb.com"></a>
            <div class="footer-links">
                <a class="footer-links__link" href="https://docs.scylladb.com/" target="_blank">Docs</a>
                <a class="footer-links__link" href="https://docs.scylladb.com/stable/get-started/develop-with-scylladb/tutorials-example-projects.html" target="_blank">Tutorials</a>
                <a class="footer-links__link" href="https://university.scylladb.com/" target="_blank">University</a>
                <a class="footer-links__link" href="https://www.scylladb.com/company/contact-us/"
                   target="_blank">Contact Us</a>
                <a class="footer-links__link" href="https://www.scylladb.com/company/" target="_blank">About Us</a>
            </div>
            <div class="footer-actions">
                <a class="footer-actions__link" href="http://slack.scylladb.com/" target="_blank">
                    <span data-tooltip tabindex="1" title="User Slack channel" data-position="bottom">
                        <i class="icon-slack"></i>
                    </span>
                </a>
                <a class="footer-actions__link" href="https://forum.scylladb.com/" target="_blank">
                    <span data-tooltip tabindex="1" title="Community forum" data-position="bottom">
                        <i class="icon-docs-community"></i>
                    </span>
                </a>
            </div>
        </div>

        
            <div class="footer-copyright">
                
                    
                        &#169; 2026, ScyllaDB. All rights reserved.
                    
                    | <a class="footer-copyright__link" href="https://www.scylladb.com/tos/" target="_blank">Terms of Service</a>
                    | <a class="footer-copyright__link" href="https://www.scylladb.com/privacy/" target="_blank">Privacy Policy</a>
                    | ScyllaDB, and ScyllaDB Cloud, are registered trademarks of ScyllaDB, Inc.
                
            </div>
        


        <div class="footer-bottom">
            
                <div class="footer-bottom__last-updated">
                    
                        Last updated on 05 February 2026.
                    
                </div>
            
            <div class="footer-bottom__version">
                Powered by
                <a class="footer-bottom__link" href="http://sphinx-doc.org/">Sphinx 8.2.3</a> &amp;
                <a class="footer-bottom__link" href="https://sphinx-theme.scylladb.com/">ScyllaDB Theme 1.8.10</a>
            </div>
        </div>
    </div>
    
        <biel-button class="footer-ask-ai" project="ddfdo8m94k"
                     header-title="ScyllaDB chatbot (beta)"
                     button-position="bottom-right"
                     modal-position="bottom-right"
                     button-style="dark">
            Ask AI
        </biel-button>
    
</footer>

        <noscript>
            <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-T8P2JP" height="0" width="0"
                    style="display: none; visibility: hidden"></iframe>
        </noscript>
    </body>

</html>